<svg width="980" height="580" viewBox="0 0 980 580" xmlns="http://www.w3.org/2000/svg">
  <style>
    .bg { fill:#ffffff; }
    .card {
    fill:#f4f8ff;
    stroke:#2563eb;
    stroke-width:1.8;
    rx:14;
    ry:14;
    }
    .title {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    font-size:22px;
    font-weight:700;
    fill:#0f172a;
    }
    .subtitle {
    font-family: system-ui, sans-serif;
    font-size:16px;
    fill:#475569;
    }
    .label {
    font-family: system-ui, sans-serif;
    font-size:15px;
    fill:#0f172a;
    }
    .small {
    font-family: system-ui, sans-serif;
    font-size:13px;
    fill:#64748b;
    }
    .section-label {
    font-family: system-ui, sans-serif;
    font-size:14px;
    font-weight:600;
    text-transform:uppercase;
    fill:#2563eb;
    letter-spacing:1px;
    }
    .arrow {
    stroke:#2563eb;
    stroke-width:2;
    fill:none;
    marker-end:url(#arrowhead);
    }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10"
      refX="8" refY="5" orient="auto">
      <polygon points="0 0, 10 5, 0 10" fill="#2563eb" />
    </marker>
  </defs>

  <rect x="0" y="0" width="980" height="580" class="bg" />

  <!-- Section headings -->
  <text x="40" y="40" class="title">Khalsa Governance Protocol – System Architecture</text>

  <text x="60" y="90" class="section-label">Ethereum L1 · Root Layer</text>
  <text x="60" y="310" class="section-label">Arbitrum L2 · Execution Layer</text>

  <!-- L1 Governance Safe -->
  <rect x="60" y="110" width="290" height="110" class="card" />
  <text x="80" y="145" class="label">L1 Governance Safe</text>
  <text x="80" y="170" class="small">(Panj Pyare multisig)</text>
  <text x="80" y="195" class="small">· Controls KhalsaRootL1</text>
  <text x="80" y="215" class="small">· Approves protocol-level changes</text>

  <!-- KhalsaRootL1 -->
  <rect x="390" y="110" width="360" height="110" class="card" />
  <text x="410" y="145" class="label">KhalsaRootL1 (L1 Config Contract)</text>
  <text x="410" y="170" class="small">· Stores MAX_SUPPLY for KHL</text>
  <text x="410" y="190" class="small">· Records authorised L2 contracts</text>
  <text x="410" y="210" class="small">· Anchor for upgrades / migrations</text>

  <!-- Arrow L1 Governance Safe → KhalsaRootL1 -->
  <line x1="350" y1="165" x2="390" y2="165" class="arrow" />

  <!-- L2 KHL Token -->
  <rect x="60" y="340" width="260" height="100" class="card" />
  <text x="80" y="370" class="label">KHL Token (L2)</text>
  <text x="80" y="395" class="small">· Non-transferable governance access</text>
  <text x="80" y="415" class="small">· Minted via Buy-Only contract</text>

  <!-- L2 Buy-Only Contract -->
  <rect x="360" y="340" width="260" height="100" class="card" />
  <text x="380" y="370" class="label">Buy-Only Minting Contract</text>
  <text x="380" y="395" class="small">· Whitelist-gated purchase</text>
  <text x="380" y="415" class="small">· Mints KHL, sends funds to Treasury</text>

  <!-- L2 Identity -->
  <rect x="660" y="340" width="260" height="100" class="card" />
  <text x="680" y="370" class="label">Identity Layer</text>
  <text x="680" y="395" class="small">· Khalsa ID (SBT)</text>
  <text x="680" y="415" class="small">· Issuer Registry &amp; Roles</text>

  <!-- L2 Governance Safe -->
  <rect x="210" y="470" width="260" height="90" class="card" />
  <text x="230" y="500" class="label">L2 Governance Safe</text>
  <text x="230" y="525" class="small">· Executes approved proposals</text>

  <!-- L2 Seva Treasury Safe -->
  <rect x="510" y="470" width="260" height="90" class="card" />
  <text x="530" y="500" class="label">L2 Seva Treasury Safe</text>
  <text x="530" y="525" class="small">· Holds stablecoins from KHL sales</text>

  <!-- Arrows between layers -->
  <line x1="220" y1="220" x2="220" y2="340" class="arrow" />
  <line x1="570" y1="220" x2="570" y2="340" class="arrow" />

  <!-- Arrows within L2 -->
  <line x1="320" y1="390" x2="360" y2="390" class="arrow" />
  <line x1="620" y1="390" x2="660" y2="390" class="arrow" />

  <line x1="490" y1="440" x2="490" y2="470" class="arrow" />
  <line x1="470" y1="515" x2="510" y2="515" class="arrow" />
</svg>